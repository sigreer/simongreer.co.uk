---
import { getCollection } from 'astro:content';
import IndexLayout from "../../layouts/IndexLayout.astro";
import '@styles/custom.css';
import TechCube from "../../components/TechCube.astro";
import { tailwindColors } from "../../utils/tailwindColors";
const techs = (await getCollection('tech')).filter(({ data }) => {
  return data.created_date;
}).sort((a, b) => new Date(b.data.created_date).getTime() - new Date(a.data.created_date).getTime());
const posts = (await getCollection('blog')).filter(({ data }) => {
  return data.created_date;
}).sort((a, b) => new Date(b.data.created_date).getTime() - new Date(a.data.created_date).getTime());
const { description } = Astro.props;
const currentSlug = Astro.url.pathname.split('/')[1];
const limit = 6;
const filteredTechs = techs.filter(tech => tech.data.slug !== currentSlug);
const allVendorIcons = import.meta.glob<{ default: ImageMetadata }>('../images/vendor-icons/*', { eager: true });
---

<IndexLayout title="Tech" leftcol="tech" rightcol="tech">
  <section class="py-8 px-6 md:pr-2 pl-0">
    <div class="w-full">
      <div class="w-full">
   
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2">
            {techs.slice(0, 8).map((tech) => (
              <a href={`/tech/${tech.data.slug}`} class="hover:scale-105 transition-transform duration-200">
                <TechCube
                  title={tech.data.vendor_name || tech.data.title}
                  vendoricon={tech.data.vendoricon}
                  excerpt={tech.data.excerpt}
                  tags={tech.data.tags}
                  slug={tech.data.slug}
                  vendor_primary_color={tech.data.vendor_primary_color}
                  vendor_secondary_color={tech.data.vendor_secondary_color}
                />
              </a>
            ))}
          </div>

      </div>
    </div>
    </div>
  </section>
</IndexLayout>
