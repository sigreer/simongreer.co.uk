---
import directus from "../lib/directus";
import { readItems } from "@directus/sdk";
import PoweredBy from './PoweredBy.astro';
const posts = await directus.request(readItems("posts", {
  fields: ['*'],
}));
const techguides = await directus.request(readItems("techguides", {
  fields: ['*'],
}));
---
<footer class="w-full">
<div class="px-4 md:py-10 bg-blue-900 sm:p-6 dark:bg-gray-800">
  <div class="mx-auto max-w-screen-xl">
      <div class="md:flex md:justify-between">
          <div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
              <div class="px-4">
                  <h2 class="mb-6 text-md font-semibold uppercase text-white">Blog Posts</h2>
                  <ul class="text-gray-200 text-sm">
                    {
      posts.slice(0, 4).map((post) => (
                      <li class="mb-4">
                          <a href={`/posts/${post.slug}`} class="hover:underline">{post.title}</a>
                      </li>
                    ))
                  }
                  </ul>
              </div>
              <div class="px-4">
                <h2 class="mb-6 text-md font-semibold uppercase text-white">Tech Stuff</h2>
                <ul class="text-gray-200 text-sm">
                  {
    techguides.slice(0, 4).map((techguide) => (
                    <li class="mb-4">
                        <a href={`/tech/${techguide.slug}`} class="hover:underline">{techguide.title}</a>
                    </li>
                  ))
                }
                </ul>
            </div>
            <div class="px-4">
              <h2 class="mb-6 text-md font-semibold uppercase text-white">Links</h2>
              <ul class="text-gray-200 text-sm">
                  <li class="mb-4">
                      <a href="https://flowbite.com" class="hover:underline">Couple of words</a>
                  </li>
                  <li class="mb-4">
                      <a href="https://tailwindcss.com/" class="hover:underline">Short link</a>
                  </li>
                  <li class="mb-4">
                    <a href="https://flowbite.com" class="hover:underline">Some text</a>
                </li>
                <li class="mb-0">
                    <a href="https://tailwindcss.com/" class="hover:underline">A link</a>
                </li>
                </ul>
            </div>
          </div>
          <div class="p-4"><PoweredBy /></div>
          <div class="w-96 h-96 max-h-96 max-w-96 min-w-96 min-h-96 p-0 rounded-full bg-green-500 border-4 border-black">
          </div>
      </div>

  </div>
  </div>
  <div class="w-full sm:flex sm:items-center sm:justify-between bg-pink-400 p-4">
    <div class="mb-6 md:mb-0">
      <a href="https://simongreer.co.uk" class="flex items-center">
          <span class="self-center text-2xl font-semibold whitespace-nowrap text-white">SimonGreer.co.uk</span>
      </a>
  </div>
    <span class="text-sm text-white sm:text-center dark:text-gray-400"><a href="https://flowbite.com" class="hover:underline">SimonGreer.co.uk</a>. Opinions are my own. If you're offended, go elsewhere.
    </span>
  </div>  
</footer>